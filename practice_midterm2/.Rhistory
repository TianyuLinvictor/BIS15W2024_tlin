sharks<-sharks%>%
select(incident_num!= "NOT COUNTED")
sharks%>%
select(incident_num!= "NOT COUNTED")
sharks<-sharks%>%
filter(incident_num!= "NOT COUNTED")
View(sharks)
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
ggplot(aes(x=mouth))+
geom_bar(alpha=0.6, color="black")+
labs(title="Mouth that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
ggplot(aes(x=month))+
geom_bar(alpha=0.6, color="black")+
labs(title="Month that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
mutate(month = as.factor(month))%>%
ggplot(aes(x=month))+
geom_bar(alpha=0.6, color="black")+
labs(title="Month that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks%>%
filter(country,injury)
sharks%>%
filter(county,injury)
knitr::opts_chunk$set(echo = TRUE)
sydneybeaches<- read_csv("data/sydneybeaches.csv")
View(sydneybeaches)
sydneybeaches_long<-sydneybeaches %>%
select(site,date,enterococci_cfu_100ml)
sydneybeaches <-read_csv(here("homework", "data", "sydneybeaches.csv")) %>% clean_names()
sharks%>%
filter(injury)
sharks%>%
filter(incident_num)
sharks%>%
select(county,injury)
tb_data <- read_csv("data/tb_data.csv")
tb_data
tb_data %>%
pivot_wider(names_from = "key", #the observations under key will become new columns
values_from = "value") #the values under value will be moved to the new columns
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(n=n())
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))
surgery_new <- surgery %>%
mutate(mort30_n = ifelse(mort30 == "Yes", 1, 0),
complication_n = ifelse(complication =="Yes", 1, 0)) %>%
group_by(month) %>%
summarise(n_deaths=sum(mort30_n),
n_comp=sum(complication_n))
sharks %>%
select(mode)%>%
group_by(mode)%>%
summarize(number=n())
sharks %>%
select(mode)%>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
surgery <- read_csv("data/surgery.csv")
surgery %>%
ggplot(aes(x=bmi))+
geom_density(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~asa_status)+
labs(title="Distribution of BMI", x="BMI", y=NULL)+
theme_light()
View(surgery)
sharks %>%
ggplot(aes(x=injury))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="type of injury", y=NULL)+
theme_light()
sharks %>%
select(mode)%>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks %>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
ggplot(aes(x=injury))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="type of injury", y=NULL)+
theme_light()
sharks %>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="type of injury", y=NULL)+
theme_light()
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
arrange(desc(fatal))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="type of injury", y=NULL)+
theme_light()
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="type of injury", y=NULL)+
theme_light()
sharks %>%
select(species)%>%
group_by(species)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks%>%
filter(species=="White")
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
labs(title="The number and types of injuries for Great White", x="Type of injury", y=NULL)
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
View(white_sharks)
glimpse(sharks)
sharks %>% naniar::miss_var_summary()
glimpse(white_sharks)
white_sharks %>% naniar::miss_var_summary()
white_sharks %>%
select(sex,total_length_cm)%>%
group_by(sex)%>%
summarize(average_length=mean(total_length_cm))
white_sharks %>%
select(sex,total_length_cm)%>%
filter(sex!="NA")%>%
group_by(sex)%>%
summarize(average_length=mean(total_length_cm))
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(na.rm=T, alpha=0.6)+
labs(title="Range of total length by sex",
x=NULL,
y="length(cm)")+
theme_light()
white_sharks %>%
select(sex,total_length_cm)%>%
filter(sex!="NA")%>%
group_by(sex)%>%
summarize(average_length=mean(total_length_cm))
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
labs(title="The number and types of injuries for Great White", x="Type of injury", y=NULL)
sharks %>%
select(species)%>%
group_by(species)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="Type of injury", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
filter(county=="San Diego")
ggplot(aes(x=species))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
filter(county=="San Diego")%>%
ggplot(aes(x=species))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
filter(county=="San Diego")%>%
ggplot(aes(x=mode))+
geom_bar(alpha=0.6, color="black")+
labs(title="Shark incidents in San Diego",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks<-sharks%>%
filter(incident_num!= "NOT COUNTED")
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
mutate(month = as.factor(month))%>%
ggplot(aes(x=month))+
geom_bar(alpha=0.6, color="black")+
labs(title="Month that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="pink")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black", fill="pink")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
mutate(month = as.factor(month))%>%
ggplot(aes(x=month))+
geom_bar(alpha=0.6, color="black", fill="yellow")+
labs(title="Month that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))
sharks %>%
select(mode)%>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="Type of injury", y=NULL)+
theme_light()
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
labs(title="The number and types of injuries for Great White", x="Type of injury", y=NULL)
grDevices::colors()
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="violetred", color="black", alpha=0.6, na.rm=T)+
labs(title="The number and types of injuries for Great White", x="Type of injury", y=NULL)
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
white_sharks %>%
select(sex,total_length_cm)%>%
filter(sex!="NA")%>%
group_by(sex)%>%
summarize(average_length=mean(total_length_cm))
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(na.rm=T, alpha=0.6)+
labs(title="Range of total length by sex",
x=NULL,
y="length(cm)")+
theme_light()
sharks %>%
filter(county=="San Diego")%>%
ggplot(aes(x=mode))+
geom_bar(alpha=0.6, color="black")+
labs(title="Shark incidents in San Diego",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
filter(county=="San Diego")%>%
ggplot(aes(x=mode))+
geom_bar(alpha=0.6, color="black",fill="palegoldenrod")+
labs(title="Shark incidents in San Diego",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
filter(county=="San Diego")%>%
ggplot(aes(x=mode))+
geom_bar(alpha=0.6, color="black",fill="palegoldenrod")+
labs(title="Shark incidents in San Diego",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks<-sharks%>%
filter(incident_num!= "NOT COUNTED")
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black", fill="pink")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
library("tidyverse")
library("janitor")
library("naniar")
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
glimpse(sharks)
sharks %>% naniar::miss_var_summary()
sharks<-sharks%>%
filter(incident_num!= "NOT COUNTED")
sharks %>%
ggplot(aes(x=county))+
geom_bar(alpha=0.6, color="black", fill="pink")+
labs(title="Country that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks %>%
mutate(month = as.factor(month))%>%
ggplot(aes(x=month))+
geom_bar(alpha=0.6, color="black", fill="yellow")+
labs(title="Month that have shark incidents",
x=NULL,
y="number of incidents")+
theme_light()+
coord_flip()
sharks%>%
select(county,injury)%>%
group_by(county,injury)%>%
summarize(number=n())%>%
pivot_wider(names_from = "injury",
values_from = "number")%>%
arrange(desc(fatal))
sharks %>%
select(mode)%>%
group_by(mode)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks %>%
select(mode,injury)%>%
group_by(mode,injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~mode)+
labs(title="Compares the number and types of injuries by activity", x="Type of injury", y=NULL)+
theme_light()
sharks %>%
select(species)%>%
group_by(species)%>%
summarize(number=n())%>%
arrange(desc(number))
sharks%>%
filter(species=="White")%>%
select(injury)%>%
group_by(injury)%>%
summarize(number=n())%>%
ggplot(aes(x=injury,y=number))+
geom_col(fill="violetred", color="black", alpha=0.6, na.rm=T)+
labs(title="The number and types of injuries for Great White", x="Type of injury", y=NULL)
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
white_sharks %>% naniar::miss_var_summary()
white_sharks %>%
select(sex,total_length_cm)%>%
filter(sex!="NA")%>%
group_by(sex)%>%
summarize(average_length=mean(total_length_cm))
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(na.rm=T, alpha=0.6)+
labs(title="Range of total length by sex",
x=NULL,
y="length(cm)")+
theme_light()
